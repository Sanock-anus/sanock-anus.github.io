<!DOCTYPE html>
<html lang="ru">
<head>
    <meta name="yandex-verification" content="0ff9479251bdef9d" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–ê–•‚öôÔ∏è–í–ò–ö & GAME MEF</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body class="theme-default">

    <header>
        <nav>
            <div class="logo">
                <img src="–ú–ê–•‚öôÔ∏è–í–ò–ö.png" alt="–õ–æ–≥–æ—Ç–∏–ø –ú–ê–•‚öôÔ∏è–í–ò–ö" class="logo-img">
                <img src="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ WhatsApp 2025-08-28 –≤ 22.16.06_5d40c46f.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø Game MEF" class="logo-img">
            </div>
            <ul>
                <li><a href="#about">–û –Ω–∞—Å</a></li>
                <li><a href="#games">–ù–∞—à–∏ –∏–≥—Ä—ã</a></li>
                <li><a href="#community">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</a></li>
                <li><a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li class="theme-switch-container">
                    <button id="theme-switch" class="theme-switch-button">Frutiger Aero</button>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero">
            <div class="hero-content">
                <h1>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º! –ú—ã - –ú–ê–•‚öôÔ∏è–í–ò–ö & GAME MEF</h1>
                <p>–ú—ã —Å–æ–∑–¥–∞—ë–º –∏–≥—Ä—ã. –ü–æ—á—Ç–∏ –≤—Å–µ –Ω–∞—à–∏ –∏–≥—Ä—ã –±—É–¥—É—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏.</p>
                
                <div class="dl-counter" style="margin: 15px 0; font-weight: bold; color: #e67e22;">
                    üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–π: <span id="count-number">0</span>
                </div>
                
                <a href="#games" class="cta-button">–∏–≥—Ä–∞—Ç—å!</a>
            </div>
        </section>

        <section id="about" class="section">
            <div class="container">
                <h2>–û –Ω–∞—Å</h2>
                <div class="about-content">
                    <div class="about-text">
                        <p>–ú–ê–•‚öôÔ∏è–í–ò–ö & GAME MEF ‚Äî —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, —É–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–≥—Ä. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∂–¥–æ–º—É.</p>
                    </div>
                    <div class="about-logo">
                        <img src="–ú–ê–•‚öôÔ∏è–í–ò–öANDGAMEMEF.png" alt="–ú–ê–•‚öôÔ∏è–í–ò–ö –∏ GAME MEF" style="max-width: 300px; border-radius: 10px;">
                    </div>
                </div>
            </div>
        </section>

        <section id="games" class="section">
            <div class="container">
                <h2>–ù–∞—à–∏ –∏–≥—Ä—ã</h2>
                <div class="game-showcase">
                    <div class="game-card">
                        <img src="Game.jpg" alt="5 –Ω–æ—á–µ–π –≤ —à–∞—Ä–∞–≥–µ" style="max-width: 100%; border-radius: 10px;">
                        <h3>5 –Ω–æ—á–µ–π –≤ —à–∞—Ä–∞–≥–µ</h3>
                        <p>–≠—Ç–∞ –∏–≥—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!</p>
                        <a href="https://drive.google.com/file/d/1DpQU2blWeWgafjGmtvx7WU4kW8iIUcTY/view" class="cta-button" onclick="countDl()">–°–∫–∞—á–∞—Ç—å –Ω–∞ –ü–ö</a>
                        <a href="https://drive.google.com/file/d/1a0cGmqNwIjfC5tUsAgG4hSO4xOG0aSYf/view" class="cta-button" onclick="countDl()">–°–∫–∞—á–∞—Ç—å –Ω–∞ Android</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="community" class="section">
            <div class="container">
                <h2>–°–æ–æ–±—â–µ—Å—Ç–≤–æ ‚ùÑÔ∏è</h2>
                <div class="comm-input-area" style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; border: 1px solid #e67e22; margin-bottom: 20px;">
                    <input type="text" id="c-name" placeholder="–í–∞—à–µ –∏–º—è" style="width:100%; margin-bottom:10px; padding:8px; border-radius:5px; background:#333; color:#fff; border:1px solid #444;">
                    <textarea id="c-msg" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." style="width:100%; height:80px; margin-bottom:10px; padding:8px; border-radius:5px; background:#333; color:#fff; border:1px solid #444;"></textarea>
                    <button id="send-msg" class="cta-button">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                </div>
                <div id="posts-wall">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π...</div>
            </div>
        </section>
    </main>

    <script>
        // –¢–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBcQP8-B9zt_dKdj2Ns99H6aaqzQb8OnLc",
            authDomain: "makhovicksite.firebaseapp.com",
            projectId: "makhovicksite",
            storageBucket: "makhovicksite.firebasestorage.app",
            messagingSenderId: "245142284614",
            appId: "1:245142284614:web:fd01f94ef372ebc0ad1d47",
            databaseURL: "https://makhovicksite-default-rtdb.firebaseio.com"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // === –†–ê–ë–û–¢–ê –°–û –°–ß–ï–¢–ß–ò–ö–û–ú ===
        const countRef = db.ref('downloads/total');

        // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        countRef.on('value', (snapshot) => {
            let val = snapshot.val();
            if (val === null) {
                countRef.set(0); // –ï—Å–ª–∏ –≤ –±–∞–∑–µ –ø—É—Å—Ç–æ, —Å—Ç–∞–≤–∏–º 0
                val = 0;
            }
            document.getElementById('count-number').innerText = val;
        });

        // –§—É–Ω–∫—Ü–∏—è –∫–ª–∏–∫–∞ (—Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –Ω–∞–∫—Ä—É—Ç–∫–∏)
        function countDl() {
            if (!localStorage.getItem('did_dl')) {
                countRef.transaction((current) => (current || 0) + 1);
                localStorage.setItem('did_dl', 'true');
            }
        }

        // === –†–ê–ë–û–¢–ê –° –°–û–û–ë–©–ï–°–¢–í–û–ú ===
        document.getElementById('send-msg').onclick = () => {
            const n = document.getElementById('c-name').value;
            const t = document.getElementById('c-msg').value;
            if(n && t) {
                db.ref('posts').push({ n, t, time: new Date().toLocaleString() });
                document.getElementById('c-msg').value = '';
            }
        };

        db.ref('posts').on('value', snap => {
            const wall = document.getElementById('posts-wall');
            wall.innerHTML = '';
            const data = snap.val();
            for(let id in data) {
                const p = data[id];
                const div = document.createElement('div');
                div.style = "background:#2c3e50; padding:15px; border-radius:10px; margin-bottom:10px; border-left:4px solid #e67e22; text-align:left; color:white;";
                div.innerHTML = `<strong>${p.n}:</strong><p style="margin:5px 0;">${p.t}</p><small style="opacity:0.5;">${p.time}</small>`;
                wall.prepend(div);
            }
        });

        // –°–º–µ–Ω–∞ —Ç–µ–º—ã –∏ –°–Ω–µ–≥
        document.getElementById('theme-switch').onclick = () => document.body.classList.toggle('theme-frutiger');
        
        setInterval(() => {
            const s = document.createElement('div');
            s.innerHTML = '‚ùÑ';
            s.style.cssText = `position:fixed; top:-20px; color:white; pointer-events:none; left:${Math.random()*100}vw; animation: fall ${Math.random()*3+2}s linear forwards; z-index:9999;`;
            document.body.appendChild(s);
            setTimeout(() => s.remove(), 5000);
        }, 300);
    </script>
    
    <style>
        @keyframes fall { to { transform: translateY(105vh); } }
    </style>
</body>
</html>

